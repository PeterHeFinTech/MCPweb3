# 项目说明书（老板版）

## 一、这是什么项目？

我们要做一个"翻译官"程序，让 AI 助手能够直接查询 TRON 区块链上的数据（比如某个钱包有多少钱、网络现在运行得怎么样），然后用**人话**告诉用户结果。

**打个比方**：
- 用户问 AI："帮我查一下这个地址有多少 USDT。"
- AI 调用我们做的程序 → 程序去 TRON 网络查数据 → 程序把结果翻译成人话返回给 AI → AI 回答用户："这个地址有 1234.56 个 USDT。"

---

## 二、比赛要求我们做什么？（逐条翻译）

### 必须做的（3 个核心功能）

| 比赛原话 | 大白话 | 我们怎么做 |
|----------|--------|------------|
| 查询指定地址的 USDT 余额 | 输入钱包地址，告诉你有多少 USDT | 调用 TRON 网络接口，读取 USDT 代币余额 |
| 获取当前网络 Gas 参数 | 现在转账要花多少手续费 | 调用接口查 gas 价格，换算成人话 |
| 查询特定交易的确认状态 | 这笔转账成功了吗？确认了几次？ | 用交易号查状态，返回"成功/失败 + 确认数" |

### 必须满足的规范

| 比赛原话 | 大白话 | 我们怎么做 |
|----------|--------|------------|
| MCP 标准封装（List Tools / Call Tool） | 程序要按 Anthropic 的协议写，Claude 能直接调用 | 用官方 MCP SDK，自动符合协议 |
| 被 Claude Desktop 识别调用 | Claude 桌面版能直接用我们的程序 | SDK 支持，配置一下就行 |
| 解析十六进制/Base58 → 自然语言 | 把链上乱码翻译成人话 | 程序里加"翻译层"，自动转换 |

### 加分项（做了更好）

| 比赛原话 | 大白话 | 我们怎么做 |
|----------|--------|------------|
| 生成未签名交易对象 | AI 帮你准备好转账单，你自己签字确认 | 程序生成交易数据，私钥不碰服务器（最安全） |
| 复杂查询增强 | 一次问多个问题，AI 能串起来回答 | 把多个查询组合在一起 |
| 链上安全监测 | 告诉你对方是不是骗子地址 | 对接 TRONSCAN 的黑名单标签 |

---

## 三、为什么我们能做出来？

| 要求 | 我们有什么 |
|------|-----------|
| 查 USDT 余额 | GetBlock 文档里有现成接口（eth_call） |
| 查 Gas 参数 | GetBlock 文档里有现成接口（eth_gasPrice） |
| 查交易状态 | GetBlock 文档里有现成接口（eth_getTransactionReceipt） |
| MCP 协议封装 | 工作区里有官方 MCP Python SDK，带完整示例 |
| 翻译成人话 | 纯 Python 代码，没有技术障碍 |

**结论：所有必选功能都有现成接口支持，技术上完全可行。**

---

## 四、🌟 我们的特色：Agent Skill + MCP 分离架构

### 什么是 Agent Skill？

Anthropic 官方推出的新标准，让 AI 能"按需学习"新技能：

```
┌─────────────────────────────────┐    ┌─────────────────────────────────┐
│   Agent Skill (知识层)           │    │   MCP Server (执行层)            │
│                                 │    │                                 │
│   SKILL.md 文件                  │    │   tron_get_usdt_balance()       │
│   - 教 AI 这些工具怎么用          │    │   tron_get_gas_parameters()     │
│   - 什么时候用                   │    │   tron_get_transaction_status() │
│   - 错误了怎么办                 │    │   tron_build_tx()               │
│                                 │    │                                 │
│   AI 读取学习，不走 MCP          │    │   AI 调用执行                    │
└─────────────────────────────────┘    └─────────────────────────────────┘
```

### 普通参赛者 vs 我们

| 普通参赛者 | 我们 |
|-----------|------|
| 只做 MCP 接口封装 | MCP + **Agent Skill 双轨并行** |
| AI 靠猜测使用工具 | AI 读取 Skill 文件**精确学习** |
| 工具说明写在代码里 | 工具说明**独立可维护** |
| 改说明要改代码 | 改 Skill 文件即可，**零代码** |

### 为什么这很重要？

1. **符合 Anthropic 官方最新标准**（skills-main 仓库）
2. **知识和执行解耦**：改教程不用动代码，改代码不用动教程
3. **可复用**：同一个 Skill 可以配合不同 MCP Server
4. **可扩展**：以后加新功能，只需加新 Skill 文件

---

## 五、做完后能干什么？

| 功能 | 用户说 | AI 回答 |
|------|--------|---------|
| 查 USDT 余额 | "这个地址有多少 USDT？" | "这个地址有 1,234.56 USDT" |
| 查 Gas 参数 | "现在转账手续费多少？" | "当前 Gas 价格是 420 SUN（约 0.00042 TRX）" |
| 查交易状态 | "这笔交易成功了吗？" | "交易已成功，已被 20 个区块确认" |
| 查 TRX 余额 | "这个地址有多少 TRX？" | "这个地址有 5,678.90 TRX" |
| 查网络状态 | "TRON 网络正常吗？" | "TRON 主网正常，当前区块高度 68,123,456" |
| 生成转账单（加分） | "帮我准备一笔转账" | 返回交易数据，用户自己签名广播 |

---

## 六、项目交付物

我们交付的不是一个程序，是**两个独立组件**：

```
Hackathon任务/
├── tron-blockchain-skill/     ← Agent Skill（知识层）
│   └── SKILL.md               ← AI 读取学习的技能文件
│
└── tron-mcp-server/           ← MCP Server（执行层）
    ├── tron_mcp_server/       ← Python 包
    ├── tests/                 ← 36 个测试用例，全部通过
    └── README.md              ← 使用说明
```

### 为什么分成两个？

| 组件 | 作用 | 改动影响 |
|------|------|---------|
| Agent Skill | 教 AI 怎么用工具 | 改教程不用改代码 |
| MCP Server | 实际执行操作 | 改代码不用改教程 |

**好处**：以后要加新功能，只需要：
1. 在 MCP Server 加一个新工具
2. 在 SKILL.md 加一段说明

两边独立维护，互不干扰。

---

## 七、需要老板做什么？

| 事项 | 说明 | 难度 |
|------|------|------|
| 提供 API Key | 去 GetBlock.io 注册账号，免费拿 Token | 5 分钟 |
| 最终验收 | 看演示，确认功能和输出 | 10 分钟 |

**其他全部由 AI 完成：开发、测试、文档。**

---

## 八、时间估算

| 阶段 | 内容 | 状态 |
|------|------|------|
| M1 | 搭架子 + 技能清单机制 | ✅ 已完成 |
| M2 | 3 个必选功能（USDT 余额 / Gas / 交易状态） | ✅ 已完成 |
| M3 | 加分项（生成交易、TRX 余额、网络状态） | ✅ 已完成 |
| M4 | 测试 + 文档 | ✅ 已完成（36 测试全过） |
| M5 | Agent Skill 文件 | ✅ 已完成 |

**当前进度：核心开发 100% 完成**

---

## 九、评分标准 vs 我们的对策

| 评分维度 | 比赛怎么看 | 我们怎么拿分 |
|----------|-----------|-------------|
| 实用性 | 是否真的解决了问题 | 3 个必选 + 3 个加分功能全部实现 |
| 技术质量 | 代码规范、异常处理 | 36 个测试全部通过 + 完整错误处理 |
| **创新性** | 有没有独特的交互逻辑 | **🌟 Agent Skill + MCP 分离架构** |
| 演示清晰度 | Demo 是否完整展示全流程 | README + SKILL.md 双重文档 |

### 我们的差异化优势

| 普通参赛者 | 我们 |
|-----------|------|
| 只做 MCP 接口封装 | MCP + **Agent Skill 标准** |
| 工具说明硬编码 | 工具说明**独立可维护** |
| 功能能用 | 功能能用 + **架构先进** |
| 不符合 Anthropic 新标准 | **完全符合 Agent Skills 规范** |

---

## 十、风险提醒

| 风险 | 影响 | 应对 |
|------|------|------|
| API 限流 | 查太快会被限制 | 加缓存、控制频率 |
| 网络超时 | 偶尔查不到数据 | 加重试机制 |
| 地址格式错 | 用户输错地址 | 返回可读错误提示（已实现） |

---

## 十一、验收怎么看？

1. ✅ 我说"查一下这个地址的 USDT 余额"，AI 返回正确金额 + 人话
2. ✅ 我说"现在 Gas 多少"，AI 返回当前价格
3. ✅ 我说"这笔交易成功了吗"，AI 返回状态 + 确认数
4. ✅ 故意输错地址，AI 返回"地址格式不对"而不是乱码
5. ✅（加分）我说"帮我准备一笔转账"，AI 返回交易数据供我签名
6. ✅ 36 个单元测试全部通过

---

**一句话总结**：做一个让 AI 能查 TRON 链上数据、用人话回答的程序，采用 Anthropic 官方最新的 Agent Skill 标准。
